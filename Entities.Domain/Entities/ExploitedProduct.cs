using System;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace Entities.Domain.Entities
{
    [Table("exploitedProducts")]
    public class ExploitedProduct : Abstract.BaseExploitedProduct
    {
        public ExploitedProduct()
        {
            DateCreated = DateTime.UtcNow;
        }

        public ExploitedProduct(Product product) : this()
        {
            SerialNumber = product.SerialNumber;
            Product = product;
        }

        [Key, ForeignKey("Product")]
        public override long SerialNumber { get; set; }

        [NotMapped]
        public override string Description
        {
            get
            {
                return Product.Description;
            }
            set
            {
                Product.Description = value;
            }
        }

        [Column("dateCreated", TypeName = "datetime")]
        public override DateTime DateCreated { get; set; }

        public virtual Product Product { get; set; }
    }
}
